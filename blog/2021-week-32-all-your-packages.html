<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' *.google.ca *.google.cl *.google.cn *.google.com *.google.com.au *.google.com.bn *.google.com.br *.google.com.my *.google.com.ph *.google.com.sg *.google.com.tw *.google.vn *.google.co.id *.google.co.in *.google.co.jp *.google.co.nz *.google.co.th *.google.co.uk *.google.de *.google.fr *.google.ie *.google.pl *.google.se *.googleapis.com *.googleadservices.com *.googlesyndication.com *.googletagmanager.com *.googletagservices.com *.google-analytics.com googleads.g.doubleclick.net *.adtrafficquality.google; font-src 'self' data: fonts.gstatic.com; object-src 'none';" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>All your packages are belong to us. | LongYC</title>
    <meta name="description" content="On npm Workspaces, HTTP caching, and CJK characters." />
    <meta property="og:image" content="/blog/2021-week-32-all-your-packages.jpg" />
    <meta name="theme-color" content="#1b2228" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,400italic&display=swap" />
    <link rel="stylesheet" type="text/css" media="all" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,400italic&display=swap" />
    <link rel="stylesheet" type="text/css" media="all" href="/css/main.css" />
    <link rel="canonical" href="https://longyc.com/blog/2021-week-32-all-your-packages" />
    <link rel="alternate" type="application/rss+xml" title="LongYC" href="https://longyc.com/feed.xml" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/icon.png" />
    <link rel="me" href="https://mastodon.online/@longyc" />
    <meta name="msapplication-TileImage" content="/icon.png" />
  </head>
  <!--
    Hi there, I'm
        __                __  _______
       / /  ___  ___  ___ \ \/ / ___/
      / /__/ _ \/ _ \/ _ `/\  / /__
     /____/\___/_//_/\_, / /_/\___/
                    /___/
    Is there something wrong with my HyperText Markup Language?
    I could also speak English, Malay, and Chinese.
    I write in Java, JavaScript, and Jawi too!
  -->
  <body>
    <header class="site-header">
      <div class="wrapper">
        <a class="site-title" href="/" title="LongYC">
          <svg xmlns="http://www.w3.org/2000/svg" class="site-logo" preserveAspectRatio="xMidYMid" viewBox="0 0 3208 708">
            <title>LongYC</title>
            <path d="M.371.871h707.731v707.731H.371V.871Z" class="cls-1"/>
            <path d="M483.533.871h224.569v707.731H483.533V.871Z" class="cls-2"/>
            <path d="M.371-.49h707.731v417.833H.371V-.49Z" class="cls-3"/>
            <path d="M-.99-.49h484.523v417.833H-.99V-.49Z" class="cls-2"/>
            <path d="M206 597V111h100v389h200v97H206Z" class="cls-4"/>
            <path d="M908 597V111h100v389h200v97H908ZM1308 597V111h300v486h-300Zm200-389h-100v292h100V208ZM1708 597V111h300v486h-100V208h-100v389h-100ZM2108 597v-97h200v-97h-200V111h300v486h-300Zm200-389h-100v97h100v-97ZM2608 597V403h-100V111h100v194h100V111h100v292h-100v194h-100ZM2908 111h300v97h-200v292h200v97h-300V111Z" class="cls-3"/>
          </svg>
        </a>
        <nav class="site-nav">
          <a class="site-link home" href="/" title="About">ABOUT</a>
          <a class="site-link blog" href="/blog/" title="Blog">BLOG</a>
        </nav>
      </div> <!-- .wrapper -->
    </header> <!-- .site-header -->
    <section class="site-content">
      <header class="masthead">
        <div class="wrapper">
          <h1 class="title">All your packages are belong to us.</h1>
          <p class="subtitle">On npm, HTTP, and CJK.</p>
          <p class="meta">Aug 15, 2021</p>
        </div> <!-- .wrapper -->
      </header> <!-- .masthead -->
      <div class="content">
        <div class="wrapper">
          <div class="post">
<figure><img alt="A doodle of Smaug from The Hobbit with the word hoard in Chinese, Malay, and English on the left." src="/blog/2021-week-32-all-your-packages.jpg" /></figure>

<p>This marks a month since my first weekly post in July. It’s the end of week 32 of 2021 and 20 more weeks till end of the year, there should be 25 posts this year, if I managed to keep this up. Does collecting weekly posts count as hoarding? Like how we can hoard packages with npm Workspaces or improve webpage performance by letting browsers hoard caches.</p>

<ul>
  <li>
    <p><strong>Node.js &amp; npm</strong>: Workspaces is supported in npm v7, which ships with Node.js v15 and v16. It uses the <code class="language-plaintext highlighter-rouge">workspaces</code> field in <code class="language-plaintext highlighter-rouge">package.json</code> just like yarn. That’s one more reason to look forward to Node.js v16 being LTS other than it ships with binaries prebuilt for Apple Silicone. Do note that npm v7 will convert existing <code class="language-plaintext highlighter-rouge">package-lock.json</code> to a new format.</p>
  </li>
  <li>
    <p><strong>Browser &amp; HTTP</strong>: the <code class="language-plaintext highlighter-rouge">Cache-Control</code> header in a HTTP request might be affected by browser settings, e.g. a browser might send <code class="language-plaintext highlighter-rouge">Cache-Control: no-cache</code> or even  <code class="language-plaintext highlighter-rouge">Pragma: no-cache</code> when caching is disabled, which instructs intermediaries to not use a stored response without successful validation on the origin server.</p>
  </li>
  <li>
    <p><strong>Encoding &amp; languages</strong>: Chinese, Japanese, and Korean characters are commonly referred to as CJK when it comes to character encoding. There are quite a number of blocks in Unicode for CJK but a Unicode character alone does not indicate which of the languages is in use, much like the character “A” does not indicate whether English or Malay is in used.</p>
  </li>
</ul>

<p>Thank you for reading and do let me know your thoughts about this post. If you want more content like this to be delivered to you, consider subscribing via Substack: <a href="https://smallpotatodev.substack.com/">smallpotatodev.substack.com</a></p>

<h3 id="related-links">Related Links</h3>

<ul>
  <li>GitHub blog on npm v7: <a href="https://github.blog/2020-10-13-presenting-v7-0-0-of-the-npm-cli/">github.blog/2020-10-13-presenting-v7-0-0-of-the-npm-cli</a></li>
  <li>RFC 7234 on Cache-Control: <a href="https://datatracker.ietf.org/doc/html/rfc7234#section-5.2.1">datatracker.ietf.org/doc/html/rfc7234</a></li>
  <li>Unicode FAQ on CJK: <a href="https://www.unicode.org/faq/han_cjk.html">unicode.org/faq/han_cjk.html</a></li>
</ul>

            <aside class="post-ads">
              <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1447213637511678" crossorigin="anonymous"></script>
              <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-1447213637511678" data-ad-slot="1148904304"></ins>
              <script type="text/javascript">if(document.location.hostname.indexOf("longyc.com")!==-1){(adsbygoogle=window.adsbygoogle||[]).push({});}</script>
            </aside>
          </div> <!-- .post -->
          <nav class="pagination">
            <a class="previous" href="/blog/2021-week-33-hungry-ghost-edition" title="Newer post.">NEWER POST</a>
            <a class="next" href="/blog/2021-week-31-dark-light-or-minimised" title="Older post.">OLDER POST</a>
          </nav> <!-- .pagination -->
        </div> <!-- .wrapper -->
      </div> <!-- .content -->
    </section> <!-- .site-content -->
    <footer class="site-footer">
      <div class="wrapper">
        <span id="copyright">&copy; LongYC</span>
        <a id="privacy-policy" href="/privacy-policy/" title="Privacy Policy">PRIVACY POLICY</a>
        <a id="rss" href="/feed.xml" title="RSS">RSS</a>
        <ul class="site-social">
          <li>
            <a href="https://bsky.app/profile/longyc.com" title="Bluesky">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="icon" viewBox="0 0 60 60">
                <title>Bluesky</title>
                <g fill="none" fill-rule="evenodd">
                  <path class="icon-bg" d="M2.996 0h54.008A2.993 2.993 0 0 1 60 2.996v54.008A2.993 2.993 0 0 1 57.004 60H2.996A2.993 2.993 0 0 1 0 57.004V2.996A2.993 2.993 0 0 1 2.996 0Z" />
                  <g transform="translate(10,13) scale(0.67)">
                    <path class="icon-logo" d="M13.572 4.403C20.222 9.395 27.374 19.517 30 24.949c2.626-5.431 9.778-15.554 16.428-20.546C51.226 0.801 59  -1.986 59 6.882c0 1.771-1.015 14.879-1.611 17.007-2.07 7.398-9.614 9.285-16.325 8.143 11.73 1.996 14.714 8.609 8.27 15.222-12.239 12.559-17.591 -3.151-18.963 -7.176-.251 -.738-.369 -1.083-.371 -.79-.002 -.294-.119 .052-.371 .79-1.371 4.025-6.723 19.736-18.963 7.176-6.444 -6.613-3.461 -13.226 8.27 -15.222-6.711 1.142-14.255 -.745-16.325 -8.143C2.015 21.761 1 8.654 1 6.882c0 -8.869 7.774 -6.081 12.572 -2.479z"/>
                  </g>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://github.com/LongYC" title="GitHub">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="icon" viewBox="0 0 60 60">
                <title>GitHub</title>
                <g fill="none" fill-rule="evenodd">
                  <path class="icon-bg" d="M2.996 0h54.008A2.993 2.993 0 0 1 60 2.996v54.008A2.993 2.993 0 0 1 57.004 60H2.996A2.993 2.993 0 0 1 0 57.004V2.996A2.993 2.993 0 0 1 2.996 0Z" />
                  <path class="icon-logo" d="M25.425 47.517c0-.45-.016-1.64-.025-3.22-5.135 1.143-6.218-2.538-6.218-2.538-.84-2.187-2.05-2.77-2.05-2.77-1.677-1.174.126-1.15.126-1.15 1.853.134 2.828 1.951 2.828 1.951 1.647 2.893 4.32 2.058 5.373 1.574.168-1.224.645-2.058 1.172-2.531-4.1-.478-8.41-2.102-8.41-9.356 0-2.066.72-3.756 1.901-5.08-.189-.478-.824-2.402.182-5.009 0 0 1.55-.509 5.076 1.94a17.275 17.275 0 0 1 4.623-.637c1.567.007 3.146.218 4.622.638 3.523-2.45 5.071-1.94 5.071-1.94 1.008 2.604.374 4.529.184 5.009 1.183 1.323 1.897 3.013 1.897 5.08 0 7.271-4.317 8.871-8.43 9.34.664.584 1.254 1.74 1.254 3.506 0 2.53-.024 4.572-.024 5.193 0 .507.333 1.095 1.27.91 7.33-2.508 12.615-9.599 12.615-17.959 0-10.455-8.267-18.93-18.463-18.93-10.194 0-18.46 8.475-18.46 18.93 0 8.363 5.29 15.458 12.626 17.961.923.173 1.26-.411 1.26-.912Z" />
                </g>
              </svg>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/longyongchong" title="LinkedIn">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" class="icon" viewBox="0 0 60 60">
                <title>LinkedIn</title>
                <g fill="none" fill-rule="evenodd">
                  <path class="icon-bg" d="M2.996 0h54.008A2.993 2.993 0 0 1 60 2.996v54.008A2.993 2.993 0 0 1 57.004 60H2.996A2.993 2.993 0 0 1 0 57.004V2.996A2.993 2.993 0 0 1 2.996 0Z" />
                  <path class="icon-logo" d="M21.883 43.823V25.524h-5.656v18.3h5.656Zm0-24.785c-.034-1.637-1.125-2.884-2.898-2.884-1.773 0-2.932 1.247-2.932 2.884 0 1.602 1.125 2.885 2.864 2.885h.034c1.807 0 2.932-1.283 2.932-2.885Zm9.227 24.785V33.397c0-.558.04-1.116.204-1.513.449-1.116 1.47-2.27 3.184-2.27 2.246 0 3.654 1.274 3.654 3.783v10.426h5.694V33.118c0-5.734-3.061-8.402-7.144-8.402-3.348 0-4.817 1.871-5.633 3.145l.04-2.447h-5.684c.082 1.752 0 18.41 0 18.41h5.685Z" />
                </g>
              </svg>
            </a>
          </li>
          <!--
            You've discovered more links!
            - Instagram: https://instagram.com/longyc.github.io
            - Miro app: https://miro.com/marketplace/pokemiro/
            - Google Play Store: https://play.google.com/store/apps/developer?id=LongYC
          -->
        </ul>
      </div> <!-- .wrapper -->
    </footer> <!-- .site-footer -->
    <script>
      if(document.location.hostname.indexOf("longyc.com")!==-1){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create','UA-11748735-5','auto');ga('send','pageview');}
    </script>
  </body>
</html>